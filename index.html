<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Paid Login</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  body{font-family:'Poppins',sans-serif;margin:0;background:linear-gradient(135deg,#2b5876,#4e4376);
    min-height:100vh;display:flex;align-items:center;justify-content:center;color:#fff;padding:20px}
  .card{width:380px;max-width:100%;background:rgba(255,255,255,0.06);padding:26px;border-radius:12px;text-align:center}
  h2{margin-top:0;margin-bottom:18px}
  label{display:block;font-size:14px;color:#cbd5e1;text-align:left;margin-bottom:6px}
  input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.15);
    background:rgba(255,255,255,0.08);color:#fff;margin-bottom:14px}
  .btn{width:100%;padding:10px 14px;border-radius:8px;border:none;cursor:pointer;
    background:linear-gradient(135deg,#43e97b,#38f9d7);color:#012;font-weight:600}
  .error{color:#ff9b9b;font-size:13px;margin-top:8px}
</style>
</head>
<body>
  <div class="card">
    <h2>Paid Login Board</h2>

    <label>Username / Phone</label>
    <input id="phone" placeholder="+8801XXXXXXXXX" autocomplete="tel">

    <label>Password</label>
    <input id="password" type="password" autocomplete="current-password">

    <button id="loginBtn" class="btn">Login for OTP</button>

    <p id="msg" class="error"></p>
  </div>

<script>
  const lsGet = k => {
    try { return JSON.parse(localStorage.getItem(k)); }
    catch(e){ return null; }
  };
  const setSession = s => sessionStorage.setItem('ms_session', JSON.stringify(s));

  const loginBtn = document.getElementById('loginBtn');
  const phoneInput = document.getElementById('phone');
  const passInput = document.getElementById('password');
  const msg = document.getElementById('msg');

  loginBtn.addEventListener('click', () => {
    msg.textContent = '';
    const phone = (phoneInput.value||'').trim();
    const pass = (passInput.value||'').trim();
    if(!phone || !pass){ msg.textContent = 'সব ফিল্ড পূরণ করুন'; return; }

    const users = lsGet('ms_users') || [];
    const matched = users.find(u => u.phone === phone && u.password === pass);

    if(!matched){
      msg.textContent = 'ফোন বা পাসওয়ার্ড মিলেনি'; return;
    }

    // ✅ Session save & redirect
    const sessionObj = { phone: matched.phone, username: matched.username, loggedAt: new Date().toISOString() };
    setSession(sessionObj);
    window.location.href = 'index_dashboard.html';
  });

  // Enter key support
  [phoneInput, passInput].forEach(i => i.addEventListener('keydown', (e) => {
    if(e.key === 'Enter') loginBtn.click();
  }));
</script>
</body>
</html>
